<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<title>ç§‘æ—é–€å¸‚æ¯æ—¥å›å ±</title>

<!-- PWA Icons / Manifest -->
<link rel="manifest" href="manifest.json">

<!-- iOS å°ˆç”¨ iconï¼ˆä¸€å®šè¦åŠ é€™å€‹ iOS æ‰æœƒæ› logoï¼‰ -->
<link rel="apple-touch-icon" sizes="192x192" href="icon-192.png">
<link rel="apple-touch-icon" sizes="512x512" href="icon-512.png">

<!-- å…è¨± WebApp æ¨¡å¼ -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
<meta name="apple-mobile-web-app-title" content="ç§‘æ—æ¯æ—¥å›å ±">

<style>
:root{
  --primary:#f4a300;
  --border:#e0e0e0;
  --bg:#f6f6f8;
}

*,*::before,*::after{ box-sizing:border-box; }

body{
  font-family:-apple-system,BlinkMacSystemFont,system-ui,sans-serif;
  margin:0;
  padding:14px 14px 90px;
  background:var(--bg);
  display:flex;
  justify-content:center;
  color:#111;
}

.container{ width:100%; max-width:520px; }

h1{ text-align:center; margin:6px 0 2px; font-size:22px; font-weight:700; }
.subtitle{ text-align:center; font-size:13px; color:#777; margin-bottom:12px; }

.section{
  background:#fff; border-radius:14px; border:1px solid var(--border);
  padding:14px; margin-bottom:12px; overflow:hidden;
}
.section h2{ margin:0 0 8px; font-size:16px; font-weight:700; }

label{ display:block;font-size:14px;margin-top:4px; }

input,select{
  width:100%;
  padding:10px; font-size:16px;
  margin-top:4px; margin-bottom:10px;
  border-radius:10px; border:1px solid var(--border);
  background:#fff;
}

/*ğŸ‘‰å”¯ä¸€å›ºå®šiOSçˆ†æ¡†çš„é‡é»*/
input[type="date"]{
  width:94%;
  margin:auto;
  display:block;
}

/* readonly æ¬„ä½å¾®ç° */
input[readonly]{ background:#f3f3f3; }

textarea{
  width:100%; height:200px; padding:10px;
  font-size:15px; border-radius:10px;
  border:1px solid var(--border);
}

.actions{
  position:fixed;left:0;right:0;bottom:0;
  padding:10px 14px 12px;background:#ffffffee;
  display:flex;gap:10px;border-top:1px solid var(--border);
  backdrop-filter:blur(6px);
}

button{
  flex:1;padding:12px 0;border-radius:26px;border:none;
  font-size:16px;font-weight:600;
}
.btn-primary{ background:var(--primary);color:#fff; }
.btn-secondary{ background:#fff;color:#333;border:1px solid var(--primary); }
/* === è–èª•ä¸»é¡Œï¼ˆåƒ… test ç‰ˆä½¿ç”¨ï¼‰ === */
body.theme-xmas {
  background: #f5f5f7;
}

/* æ¨™é¡ŒåŠ ä¸Šè–èª•æ°›åœ */
body.theme-xmas h1 {
  color: #d32f2f; /* ç´…ä¸€é» */
}

body.theme-xmas h1::after {
  content: " ğŸ„";
}

/* å‰¯æ¨™é¡è‰²ç•¥åç¶  */
body.theme-xmas .subtitle {
  color: #2e7d32;
}

/* å¡ç‰‡é‚Šç·šï¼†é™°å½±å¾®èª¿æˆè–èª•æ„Ÿ */
body.theme-xmas .section {
  border-color: #e0f2f1;
  box-shadow: 0 4px 10px rgba(0,0,0,0.04);
}

/* ä¸»è¦æŒ‰éˆ•æ”¹æˆè–èª•ç´…ï¼‹è¼•å¾®åœ“è§’ */
body.theme-xmas .btn-primary {
  background: #d32f2f;
}

/* æ¬¡è¦æŒ‰éˆ•å¤–æ¡†ç•¥å¸¶ç¶ è‰² */
body.theme-xmas .btn-secondary {
  border-color: #2e7d32;
}

/* è®“å…§å®¹åœ¨é›ªèŠ±ä¹‹ä¸Š */
body.theme-xmas .container,
body.theme-xmas .section {
  position: relative;
  z-index: 1;
}

/* é›ªèŠ±æ¨£å¼ï¼ˆç´°å°ã€æŸ”å’Œï¼‰ */
body.theme-xmas .snowflake {
  position: fixed;
  top: -10px;
  left: 0;
  color: rgba(255, 255, 255, 0.85);
  font-size: 10px;
  pointer-events: none;
  user-select: none;
  z-index: 0;
  animation-name: snow-fall;
  animation-timing-function: linear;
  animation-iteration-count: infinite;
}

/* ä¸‹é›ªå‹•ç•« */
@keyframes snow-fall {
  0% {
    transform: translate3d(var(--x-start), -10px, 0);
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  100% {
    transform: translate3d(var(--x-end), 110vh, 0);
    opacity: 0;
  }
}

</style>
</head>

<body class="theme-xmas">
<div class="container">

<h1>ç§‘æ—é–€å¸‚æ¯æ—¥å›å ±</h1>
<p class="subtitle">è¼¸å…¥æ•¸å­— â†’ ç”¢ç”Ÿè¨Šæ¯ â†’ è²¼åˆ°ä¼æ¥­å¾®ä¿¡ç¾¤çµ„</p>


<!-- åŸºæœ¬è³‡è¨Š -->
<div class="section">
<h2>åŸºæœ¬è³‡è¨Š</h2>

<label>æ—¥æœŸï¼š
  <input type="date" id="date">
</label>

<label>åº—åï¼š
  <input type="text" id="store" placeholder="ä¾‹ï¼šç«™å‰">
</label>

<label>å§“åï¼š
<select id="name">
<option value="">è«‹é¸æ“‡åŒä»å§“å</option>
<option>éƒ­å­Ÿé‘«</option><option>é™³è©©æ½”</option><option>æ¸¸ç‘Ÿç„„</option>
<option>é­é æ©</option><option>æå­Ÿé¦¨</option><option>åŠ‰ç‘‹å©·</option>
<option>æ—ç‘€å©•</option><option>å‘¨æ›‰ç„</option><option>è•­ç´”è¿</option>
<option>é™³å®›å¦¤</option><option>ç‹é–é›…</option><option>æ—å¯“è‘³</option>
<option>å³æ¬£ç®</option><option>å‘‚æ¡‚æ¢…</option>
</select>
</label>
</div>

<!-- 1.ä»Šæ—¥å¤–æ’¥ -->
<div class="section">
<h2>1. ä»Šæ—¥å¤–æ’¥</h2>

<label>æ½›å®¢å¤–æ’¥é€šæ•¸ï¼š
<input type="number" id="todayCallPotential" inputmode="numeric" oninput="recalcTotals()">
</label>

<label>éä¿èˆŠå®¢å¤–æ’¥é€šæ•¸ï¼š
<input type="number" id="todayCallOld3Y" inputmode="numeric" oninput="recalcTotals()">
</label>

<label>ä»Šæ—¥å¤–æ’¥ç¸½é€šæ•¸ï¼š
<input type="number" id="todayCallTotal" readonly>
</label>
</div>

<!-- 2. ä»Šæ—¥é ç´„ -->
<div class="section">
<h2>2. ä»Šæ—¥é ç´„</h2>
<label>ä»Šæ—¥é ç´„ç¸½æ•¸ï¼š
<input type="number" id="todayBookingTotal" inputmode="numeric">
</label>
</div>

<!-- 3. ä»Šæ—¥åˆ°åº— -->
<div class="section">
<h2>3. ä»Šæ—¥åˆ°åº—</h2>
<label>ä»Šæ—¥åˆ°åº—ç¸½æ•¸ï¼š
<input type="number" id="todayVisitTotal" inputmode="numeric">
</label>

<label>è©¦ç”¨ HAï¼š
<input type="number" id="trialHA" inputmode="numeric">
</label>
<label>è©¦ç”¨ APAPï¼š
<input type="number" id="trialAPAP" inputmode="numeric">
</label>
<label>æˆäº¤ HAï¼š
<input type="number" id="dealHA" inputmode="numeric">
</label>
<label>æˆäº¤ APAPï¼š
<input type="number" id="dealAPAP" inputmode="numeric">
</label>
</div>

<!-- 4. æ˜æ—¥å·²æ’é ç´„ -->
<div class="section">
<h2>4. æ˜æ—¥å·²æ’é ç´„</h2>
<label>æ˜æ—¥é ç´„ç¸½æ•¸ï¼š
<input type="number" id="tomorrowBookingTotal" inputmode="numeric">
</label>
</div>

<!-- 5. æ˜æ—¥KPI -->
<div class="section">
<h2>5. æ˜æ—¥ KPI</h2>
<label>å¤–æ’¥ç›®æ¨™é€šæ•¸ï¼š
<input type="number" id="tomorrowKpiCallTotal" inputmode="numeric">
</label>

<label>èˆŠå®¢é ç´„ç›®æ¨™ (ä½)ï¼š
<input type="number" id="tomorrowKpiCallOld3Y" inputmode="numeric">
</label>

<label>å®ŒæˆHA/APAPè©¦æˆ´ç›®æ¨™ (ä½)ï¼š
<input type="number" id="tomorrowKpiTrial" inputmode="numeric">
</label>
</div>

<!-- output -->
<div class="section">
<textarea id="output" placeholder="æŒ‰ä¸‹ã€ç”¢ç”Ÿè¨Šæ¯ã€å¾Œæ–‡å­—æœƒå‡ºç¾åœ¨é€™è£¡"></textarea>
</div>

</div>

<!-- button -->
<div class="actions">
<button class="btn-primary" onclick="generateMessage()">ç”¢ç”Ÿè¨Šæ¯</button>
<button class="btn-secondary" onclick="copyMessage()">è¤‡è£½æ–‡å­—</button>
</div>


<script>
// ä»Šå¤©æ—¥æœŸè‡ªå‹•å¡«
document.addEventListener("DOMContentLoaded",()=>{
 let d=new Date(),m=("0"+(d.getMonth()+1)).slice(-2),day=("0"+d.getDate()).slice(-2);
 document.getElementById("date").value=`${d.getFullYear()}-${m}-${day}`;
});

// å¤–æ’¥åŠ ç¸½
function getNum(id){ return parseInt(document.getElementById(id).value||0) }
function recalcTotals(){
 document.getElementById("todayCallTotal").value=getNum("todayCallPotential")+getNum("todayCallOld3Y")||"";
}

// ç”¢ç”Ÿè¨Šæ¯
function generateMessage(){
const d=document.getElementById("date").value.replace(/-/g,"/");
const s=document.getElementById("store").value||"é–€å¸‚";
const n=document.getElementById("name").value||"å§“å";

document.getElementById("output").value=
`${d}ï½œ${s} ${n}
1. ä»Šæ—¥å¤–æ’¥ï¼š${getNum("todayCallTotal")} é€šï¼ˆæ½›åœ¨ ${getNum("todayCallPotential")} é€šã€éä¿èˆŠå®¢ ${getNum("todayCallOld3Y")} é€šï¼‰
2. ä»Šæ—¥é ç´„ï¼š${getNum("todayBookingTotal")} ä½
3. ä»Šæ—¥åˆ°åº—ï¼š${getNum("todayVisitTotal")} ä½
   è©¦ç”¨ï¼šHA ${getNum("trialHA")} ä½ã€APAP ${getNum("trialAPAP")} ä½
   æˆäº¤ï¼šHA ${getNum("dealHA")} ä½ã€APAP ${getNum("dealAPAP")} ä½
4. æ˜æ—¥å·²æ’é ç´„ï¼š${getNum("tomorrowBookingTotal")} ä½
5. æ˜æ—¥KPI:
   å¤–æ’¥ ${getNum("tomorrowKpiCallTotal")} é€š
   èˆŠå®¢é ç´„ ${getNum("tomorrowKpiCallOld3Y")} ä½
   å®Œæˆè©¦æˆ´ ${getNum("tomorrowKpiTrial")} ä½`;
}

// è¤‡è£½
function copyMessage(){
const o=document.getElementById("output");
o.select();o.setSelectionRange(0,99999);
document.execCommand("copy");
alert("å·²è¤‡è£½ï¼Œå‰å¾€ä¼æ¥­å¾®ä¿¡è²¼ä¸Šå³å¯ï¼");
}


// è–èª•ç‰ˆï¼šæŸ”å’Œä¸‹é›ªæ•ˆæœï¼ˆS1ï¼‰
(function () {
  if (!document.body.classList.contains('theme-xmas')) return;

  const snowCount = 18; // é›ªèŠ±æ•¸é‡ï¼Œæƒ³æ›´å°‘å¯ä»¥æ”¹ 12ã€15 ä¹‹é¡
  const body = document.body;

  for (let i = 0; i < snowCount; i++) {
    const span = document.createElement('span');
    span.className = 'snowflake';
    // ç´°å°é›ªèŠ±ç¬¦è™Ÿï¼Œå¯è¦–éœ€è¦æ›æˆ "â€¢" æˆ– "âœ»"
    span.textContent = 'â„';

    const duration = 10 + Math.random() * 8; // 10â€“18 ç§’ä¸€è¼ª
    const delay = Math.random() * -duration; // è²  delay è®“é›ªèŠ±ä¸€é–‹å§‹å°±åˆ†æ•£
    const startX = Math.random() * 100; // vw
    const endX = startX + (Math.random() * 20 - 10); // å·¦å³å¾®é£„

    span.style.setProperty('--x-start', startX + 'vw');
    span.style.setProperty('--x-end', endX + 'vw');
    span.style.animationDuration = duration + 's';
    span.style.animationDelay = delay + 's';

    body.appendChild(span);
  }
})();

</script>
</body>
</html>
